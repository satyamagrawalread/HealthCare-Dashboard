{"mappings":"AAAA,SAAS,oBAAoB,WAAW;IACtC,MAAM,QAAQ,QAAQ,GAAG,CAAC,KAAK;IAC/B,QAAQ,GAAG,CAAC,WAAW;IACvB,OAAO,MAAM,4DAA4D;QACvE,QAAQ;QACR,SAAS;YACP,eAAe,CAAC,MAAM,EAAE,MAAM,CAAC;QACjC;IACF,GACG,IAAI,CAAC,CAAC;QACL,IAAI,IAAI,EAAE,EACR,OAAO,IAAI,IAAI;QAEjB,MAAM,IAAI,MAAM;IAClB,GACC,IAAI,CAAC,CAAC;QACL,OAAO,KAAK,IAAI,CAAC,CAAC,SAAW,OAAO,IAAI,KAAK;IAC/C,GACC,KAAK,CAAC;QACL,SAAS,gBAAgB,CAAC,gBAAgB,OAAO,CAAC,CAAC;YACjD,QAAQ,KAAK,CAAC,MAAM,GAAG;YACvB,QAAQ,KAAK,CAAC,OAAO,GAAG;YACxB,QAAQ,SAAS,GAAG,CAAC;;;;;;MAMvB,CAAC;QACD;IACF;AACJ;AAEA,SAAS,mBAAmB,CAAC,EAAE,QAAQ;IACrC,MAAM,YAAY;QAChB,SAAS;QACT,UAAU;QACV,OAAO;QACP,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;QACR,WAAW;QACX,SAAS;QACT,UAAU;QACV,UAAU;IACZ;IACA,MAAM,cAAc,IAAI;IACxB,MAAM,aAAa,IAAI,KAAK,aAAa,QAAQ,CAC/C,YAAY,QAAQ,KAAK,IAAI;IAE/B,OAAO,SAAS,MAAM,CAAC,CAAC;QACtB,MAAM,YAAY,IAAI,KAAK,QAAQ,IAAI,EAAE,SAAS,CAAC,QAAQ,KAAK,CAAC;QACjE,OAAO,aAAa,cAAc,aAAa;IACjD;AACF;AAEA,eAAe;IACb,MAAM,cAAc,MAAM,oBAAoB;IAC9C,SAAS,cAAc,CAAC,yBAAyB,GAAG,GAClD,YAAY,eAAe;IAC7B,SAAS,cAAc,CAAC,gBAAgB,SAAS,GAAG,YAAY,IAAI;IACpE,SAAS,cAAc,CAAC,iBAAiB,SAAS,GAAG,MACnD,YAAY,aAAa,EACzB,MAAM,CAAC;IACT,IAAI,YAAY,MAAM,KAAK,QACzB,SAAS,cAAc,CAAC,gBAAgB,GAAG,GAAG;SAE9C,SAAS,cAAc,CAAC,gBAAgB,GAAG,GAAG;IAEhD,SAAS,cAAc,CAAC,gBAAgB,SAAS,GAAG,YAAY,MAAM;IACtE,SAAS,cAAc,CAAC,mBAAmB,SAAS,GAClD,YAAY,YAAY;IAC1B,SAAS,cAAc,CAAC,6BAA6B,SAAS,GAC5D,YAAY,iBAAiB;IAC/B,SAAS,cAAc,CAAC,sBAAsB,SAAS,GACrD,YAAY,cAAc;IAE5B,SAAS,cAAc,CAAC,2BAA2B,SAAS,GAAG,CAAC;IAC9D,EAAE,YAAY,eAAe,CAC1B,GAAG,CAAC,CAAC;QACJ,OAAO,CAAC;kBACE,EAAE,KAAK,IAAI,CAAC;kBACZ,EAAE,KAAK,WAAW,CAAC;kBACnB,EAAE,KAAK,MAAM,CAAC;cAClB,CAAC;IACT,GACC,IAAI,CAAC,IAAI,CAAC;IAEf,SAAS,cAAc,CAAC,4BAA4B,SAAS,GAAG,CAAC;IAC/D,EAAE,YAAY,WAAW,CACtB,GAAG,CAAC,CAAC;QACJ,OAAO,CAAC;cACF,EAAE,KAAK;;UAEX,CAAC;IACL,GACC,IAAI,CAAC,IAAI,CAAC;IACf,SAAS,cAAc,CAAC,kBAAkB,SAAS,GACjD,YAAY,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,KAAK;IAChE,SAAS,cAAc,CAAC,mBAAmB,SAAS,GAClD,YAAY,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,KAAK;IACjE,SAAS,cAAc,CAAC,mBAAmB,SAAS,GAClD,YAAY,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM;IACjE,2BAA2B;IAC3B,SAAS,cAAc,CAAC,oBAAoB,SAAS,GACnD,YAAY,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM;IAClE,6CAA6C;IAC7C,IACE,YAAY,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,KAC/D,uBAEA,SAAS,cAAc,CAAC,wBAAwB,GAAG,GACjD;SACG,IACL,YAAY,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,KAC/D,sBAEA,SAAS,cAAc,CAAC,wBAAwB,GAAG,GACjD;IAGJ,IACE,YAAY,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,KAChE,uBAEA,SAAS,cAAc,CAAC,yBAAyB,GAAG,GAClD;SACG,IACL,YAAY,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,KAChE,sBAEA,SAAS,cAAc,CAAC,yBAAyB,GAAG,GAClD;IAGJ,gDAAgD;IAChD,SAAS,cAAc,CAAC,0BAA0B,SAAS,GACzD,YAAY,iBAAiB,CAAC,EAAE,CAAC,gBAAgB,CAAC,KAAK,GAAG;IAC5D,SAAS,cAAc,CAAC,2BAA2B,SAAS,GAC1D,YAAY,iBAAiB,CAAC,EAAE,CAAC,gBAAgB,CAAC,MAAM;IAC1D,IACE,YAAY,iBAAiB,CAAC,EAAE,CAAC,gBAAgB,CAAC,MAAM,KACxD,uBAEA,SAAS,cAAc,CAAC,gCAAgC,GAAG,GACzD;SACG,IACL,YAAY,iBAAiB,CAAC,EAAE,CAAC,gBAAgB,CAAC,MAAM,KACxD,sBAEA,SAAS,cAAc,CAAC,gCAAgC,GAAG,GACzD;SAEF,SAAS,cAAc,CAAC,gCAAgC,GAAG,GAAG;IAEhE,EAAE;IACF,2CAA2C;IAC3C,SAAS,cAAc,CAAC,qBAAqB,SAAS,GACpD,YAAY,iBAAiB,CAAC,EAAE,CAAC,WAAW,CAAC,KAAK,GAAG;IACvD,SAAS,cAAc,CAAC,sBAAsB,SAAS,GACrD,YAAY,iBAAiB,CAAC,EAAE,CAAC,WAAW,CAAC,MAAM;IACrD,IACE,YAAY,iBAAiB,CAAC,EAAE,CAAC,WAAW,CAAC,MAAM,KACnD,uBAEA,SAAS,cAAc,CAAC,2BAA2B,GAAG,GACpD;SACG,IACL,YAAY,iBAAiB,CAAC,EAAE,CAAC,WAAW,CAAC,MAAM,KAAK,sBAExD,SAAS,cAAc,CAAC,2BAA2B,GAAG,GACpD;IAEJ,EAAE;IACF,0CAA0C;IAC1C,SAAS,cAAc,CAAC,oBAAoB,SAAS,GACnD,YAAY,iBAAiB,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,GAAG;IACtD,SAAS,cAAc,CAAC,qBAAqB,SAAS,GACpD,YAAY,iBAAiB,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM;IACpD,IACE,YAAY,iBAAiB,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM,KAAK,uBAEvD,SAAS,cAAc,CAAC,0BAA0B,GAAG,GACnD;SACG,IACL,YAAY,iBAAiB,CAAC,EAAE,CAAC,UAAU,CAAC,MAAM,KAAK,sBAEvD,SAAS,cAAc,CAAC,0BAA0B,GAAG,GACnD;IAEJ,EAAE;IACF,MAAM,YAAY;QAChB,SAAS;QACT,UAAU;QACV,OAAO;QACP,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;QACR,WAAW;QACX,SAAS;QACT,UAAU;QACV,UAAU;IACZ;IAEA,2BAA2B,mBACzB,GACA,YAAY,iBAAiB;IAG/B,MAAM,iBAAiB,IAAI,MACzB,SAAS,cAAc,CAAC,4BACxB;QACE,MAAM;QACN,SAAS;YACP,WAAW;YACX,QAAQ;gBACN,GAAG;oBACD,uDAAuD;oBACvD,MAAM;wBACF,SAAS;oBACb;gBACF;gBACA,GAAG;gBAGH;YACF;YACA,SAAS;gBACP,QAAQ;oBACN,SAAS;gBACX;YACF;QACF;QACA,MAAM;YACJ,QAAQ;mBACH,yBACA,GAAG,CAAC,CAAC;oBACJ,MAAM,OAAO,QACV,GAAG,CAAC,QAAQ,IAAI,IAAI,EACpB,GAAG,CAAC,SAAS,SAAS,CAAC,IAAI,KAAK,CAAC,GAAG,GACpC,GAAG,CAAC,QAAQ;oBACf,OAAO,KAAK,OAAO;gBACrB,GACC,IAAI,GACJ,GAAG,CAAC,CAAC,OAAS,MAAM,MAAM,MAAM,CAAC;aACrC;YACD,UAAU;gBACR;oBACE,qBAAqB;oBACrB,MAAM;2BACD,yBACA,IAAI,CAAC,CAAC,GAAG;4BACR,MAAM,eAAe,QAClB,GAAG,CAAC,QAAQ,EAAE,IAAI,EAClB,GAAG,CAAC,SAAS,SAAS,CAAC,EAAE,KAAK,CAAC,GAAG,GAClC,GAAG,CAAC,QAAQ;4BACf,MAAM,cAAc,QACjB,GAAG,CAAC,QAAQ,EAAE,IAAI,EAClB,GAAG,CAAC,SAAS,SAAS,CAAC,EAAE,KAAK,CAAC,GAAG,GAClC,GAAG,CAAC,QAAQ;4BACf,OAAO,aAAa,IAAI,CAAC;wBAC3B,GACC,GAAG,CAAC,CAAC,MAAQ,IAAI,cAAc,CAAC,QAAQ,CAAC,KAAK;qBAClD;oBACD,aAAa;oBACb,aAAa;oBACb,aAAa;oBACb,sBAAsB;gBACxB;gBACA;oBACE,sBAAsB;oBACtB,MAAM;2BACD,yBACA,IAAI,CAAC,CAAC,GAAG;4BACR,MAAM,eAAe,QAClB,GAAG,CAAC,QAAQ,EAAE,IAAI,EAClB,GAAG,CAAC,SAAS,SAAS,CAAC,EAAE,KAAK,CAAC,GAAG,GAClC,GAAG,CAAC,QAAQ;4BACf,MAAM,cAAc,QACjB,GAAG,CAAC,QAAQ,EAAE,IAAI,EAClB,GAAG,CAAC,SAAS,SAAS,CAAC,EAAE,KAAK,CAAC,GAAG,GAClC,GAAG,CAAC,QAAQ;4BACf,OAAO,aAAa,IAAI,CAAC;wBAC3B,GACC,GAAG,CAAC,CAAC,MAAQ,IAAI,cAAc,CAAC,SAAS,CAAC,KAAK;qBACnD;oBACD,aAAa;oBACb,aAAa;oBACb,aAAa;oBACb,sBAAsB;gBACxB;aACD;QACH;IACF;IAGF,SAAS,cAAc,CAAC,cAAc,QAAQ,GAAG,SAAU,KAAK;QAC9D,MAAM,iBAAiB,MAAM,MAAM,CAAC,KAAK;QACzC,2BAA2B,mBACzB,OAAO,iBACP,YAAY,iBAAiB;QAE/B,SAAS,cAAc,CAAC,2BAA2B,SAAS,GAAG;QAC/D,eAAe,IAAI,CAAC,MAAM,GAAG;eACxB,yBACA,GAAG,CAAC,CAAC;gBACJ,MAAM,OAAO,QACV,GAAG,CAAC,QAAQ,IAAI,IAAI,EACpB,GAAG,CAAC,SAAS,SAAS,CAAC,IAAI,KAAK,CAAC,GAAG,GACpC,GAAG,CAAC,QAAQ;gBACf,OAAO,KAAK,OAAO;YACrB,GACC,IAAI,GACJ,GAAG,CAAC,CAAC,OAAS,MAAM,MAAM,MAAM,CAAC;SACrC;QAED,eAAe,IAAI,CAAC,QAAQ,GAAG;YAC7B;gBACE,qBAAqB;gBAErB,MAAM;uBACD,yBACA,IAAI,CAAC,CAAC,GAAG;wBACR,MAAM,eAAe,QAClB,GAAG,CAAC,QAAQ,EAAE,IAAI,EAClB,GAAG,CAAC,SAAS,SAAS,CAAC,EAAE,KAAK,CAAC,GAAG,GAClC,GAAG,CAAC,QAAQ;wBACf,MAAM,cAAc,QACjB,GAAG,CAAC,QAAQ,EAAE,IAAI,EAClB,GAAG,CAAC,SAAS,SAAS,CAAC,EAAE,KAAK,CAAC,GAAG,GAClC,GAAG,CAAC,QAAQ;wBACf,OAAO,aAAa,IAAI,CAAC;oBAC3B,GACC,GAAG,CAAC,CAAC,MAAQ,IAAI,cAAc,CAAC,QAAQ,CAAC,KAAK;iBAClD;gBACD,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,sBAAsB;YACxB;YACA;gBACE,sBAAsB;gBACtB,MAAM;uBACD,yBACA,IAAI,CAAC,CAAC,GAAG;wBACR,MAAM,eAAe,QAClB,GAAG,CAAC,QAAQ,EAAE,IAAI,EAClB,GAAG,CAAC,SAAS,SAAS,CAAC,EAAE,KAAK,CAAC,GAAG,GAClC,GAAG,CAAC,QAAQ;wBACf,MAAM,cAAc,QACjB,GAAG,CAAC,QAAQ,EAAE,IAAI,EAClB,GAAG,CAAC,SAAS,SAAS,CAAC,EAAE,KAAK,CAAC,GAAG,GAClC,GAAG,CAAC,QAAQ;wBACf,OAAO,aAAa,IAAI,CAAC;oBAC3B,GACC,GAAG,CAAC,CAAC,MAAQ,IAAI,cAAc,CAAC,SAAS,CAAC,KAAK;iBACnD;gBACD,aAAa;gBACb,aAAa;gBACb,aAAa;gBACb,sBAAsB;YACxB;SACD;QAED,eAAe,MAAM;IACvB;AACF","sources":["src/js/patient-profile.js"],"sourcesContent":["function fetchPatientProfile(patientName) {\r\n  const token = process.env.TOKEN;\r\n  console.log('line: 5', token);\r\n  return fetch(\"https://fedskillstest.coalitiontechnologies.workers.dev/\", {\r\n    method: \"GET\",\r\n    headers: {\r\n      Authorization: `Basic ${token}`,\r\n    },\r\n  })\r\n    .then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      throw new Error(\"API Failed\");\r\n    })\r\n    .then((data) => {\r\n      return data.find((person) => person.name === patientName);\r\n    })\r\n    .catch(() => {\r\n      document.querySelectorAll(\".error-state\").forEach((element) => {\r\n        element.style.height = \"400px\";\r\n        element.style.display = \"block\";\r\n        element.innerHTML = `\r\n            <div style=\"width: 100%; margin-top: 100px; display: flex; align-items: center; justify-content: center;\">\r\n    <div style=\"display: flex; flex-direction: column; align-items: center; justify-content: center;\">\r\n        <img src=\"src/assets/warning.png\" alt=\"Error-icon\" style=\"width: 100px; height: 100px;\">\r\n        <h2 style=\"font-weight: bold;\">Some error occured!</h2>\r\n    </div>\r\n</div>`;\r\n      });\r\n    });\r\n}\r\n\r\nfunction getLastNMonthsData(n, datasets) {\r\n  const month_key = {\r\n    January: 0,\r\n    February: 1,\r\n    March: 2,\r\n    April: 3,\r\n    May: 4,\r\n    June: 5,\r\n    July: 6,\r\n    August: 7,\r\n    September: 8,\r\n    October: 9,\r\n    November: 10,\r\n    December: 11,\r\n  };\r\n  const currentDate = new Date();\r\n  const nMonthsAgo = new Date(currentDate).setMonth(\r\n    currentDate.getMonth() - n - 1\r\n  );\r\n  return datasets.filter((dataset) => {\r\n    const entryDate = new Date(dataset.year, month_key[dataset.month]);\r\n    return entryDate >= nMonthsAgo && entryDate <= currentDate;\r\n  });\r\n}\r\n\r\nasync function populatePatientProfile() {\r\n  const patientInfo = await fetchPatientProfile(\"Jessica Taylor\");\r\n  document.getElementById(\"patient-profile-image\").src =\r\n    patientInfo.profile_picture;\r\n  document.getElementById(\"patient-name\").innerText = patientInfo.name;\r\n  document.getElementById(\"date-of-birth\").innerText = dayjs(\r\n    patientInfo.date_of_birth\r\n  ).format(\"MMMM DD, YYYY\");\r\n  if (patientInfo.gender === \"Male\") {\r\n    document.getElementById(\"gender-image\").src = \"src/assets/MaleIcon.svg\";\r\n  } else {\r\n    document.getElementById(\"gender-image\").src = \"src/assets/FemaleIcon.svg\";\r\n  }\r\n  document.getElementById(\"gender-value\").innerText = patientInfo.gender;\r\n  document.getElementById(\"patient-contact\").innerText =\r\n    patientInfo.phone_number;\r\n  document.getElementById(\"patient-emergency-contact\").innerText =\r\n    patientInfo.emergency_contact;\r\n  document.getElementById(\"insurance-provider\").innerText =\r\n    patientInfo.insurance_type;\r\n\r\n  document.getElementById(\"diagnostic-section-list\").innerHTML = `\r\n    ${patientInfo.diagnostic_list\r\n      .map((data) => {\r\n        return `<div class=\"section\">\r\n            <span>${data.name}</span>\r\n            <span>${data.description}</span>\r\n            <span>${data.status}</span>\r\n        </div>`;\r\n      })\r\n      .join(\"\")}`;\r\n\r\n  document.getElementById(\"patient-lab-results-list\").innerHTML = `\r\n    ${patientInfo.lab_results\r\n      .map((data) => {\r\n        return `<div class=\"section\">\r\n        <span>${data}</span>\r\n        <img src=\"src\\\\assets\\\\download_FILL0_wght300_GRAD0_opsz24 (1).svg\" alt=\"download\">\r\n    </div>`;\r\n      })\r\n      .join(\"\")}`;\r\n  document.getElementById(\"systolic-value\").innerText =\r\n    patientInfo.diagnosis_history[0].blood_pressure.systolic.value;\r\n  document.getElementById(\"diastolic-value\").innerText =\r\n    patientInfo.diagnosis_history[0].blood_pressure.diastolic.value;\r\n  document.getElementById(\"systolic-status\").innerText =\r\n    patientInfo.diagnosis_history[0].blood_pressure.systolic.levels;\r\n  // Assign diagnostic status\r\n  document.getElementById(\"diastolic-status\").innerText =\r\n    patientInfo.diagnosis_history[0].blood_pressure.diastolic.levels;\r\n  // Changes status icon on the basis of status\r\n  if (\r\n    patientInfo.diagnosis_history[0].blood_pressure.systolic.levels ===\r\n    \"Higher than Average\"\r\n  ) {\r\n    document.getElementById(\"systolic-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowUp.svg\";\r\n  } else if (\r\n    patientInfo.diagnosis_history[0].blood_pressure.systolic.levels ===\r\n    \"Lower than Average\"\r\n  ) {\r\n    document.getElementById(\"systolic-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowDown.svg\";\r\n  }\r\n\r\n  if (\r\n    patientInfo.diagnosis_history[0].blood_pressure.diastolic.levels ===\r\n    \"Higher than Average\"\r\n  ) {\r\n    document.getElementById(\"diastolic-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowUp.svg\";\r\n  } else if (\r\n    patientInfo.diagnosis_history[0].blood_pressure.diastolic.levels ===\r\n    \"Lower than Average\"\r\n  ) {\r\n    document.getElementById(\"diastolic-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowDown.svg\";\r\n  }\r\n\r\n  // Assigns value and status for respiratory rate\r\n  document.getElementById(\"respiratory-rate-value\").innerText =\r\n    patientInfo.diagnosis_history[0].respiratory_rate.value + \" bpm\";\r\n  document.getElementById(\"respiratory-rate-status\").innerText =\r\n    patientInfo.diagnosis_history[0].respiratory_rate.levels;\r\n  if (\r\n    patientInfo.diagnosis_history[0].respiratory_rate.levels ===\r\n    \"Higher than Average\"\r\n  ) {\r\n    document.getElementById(\"respiratory-rate-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowUp.svg\";\r\n  } else if (\r\n    patientInfo.diagnosis_history[0].respiratory_rate.levels ===\r\n    \"Lower than Average\"\r\n  ) {\r\n    document.getElementById(\"respiratory-rate-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowDown.svg\";\r\n  } else {\r\n    document.getElementById(\"respiratory-rate-status-icon\").src = \"/\";\r\n  }\r\n  //\r\n  // Assigns value and status for temperature\r\n  document.getElementById(\"temperature-value\").innerText =\r\n    patientInfo.diagnosis_history[0].temperature.value + \"°F\";\r\n  document.getElementById(\"temperature-status\").innerText =\r\n    patientInfo.diagnosis_history[0].temperature.levels;\r\n  if (\r\n    patientInfo.diagnosis_history[0].temperature.levels ===\r\n    \"Higher than Average\"\r\n  ) {\r\n    document.getElementById(\"temperature-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowUp.svg\";\r\n  } else if (\r\n    patientInfo.diagnosis_history[0].temperature.levels === \"Lower than Average\"\r\n  ) {\r\n    document.getElementById(\"temperature-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowDown.svg\";\r\n  }\r\n  //\r\n  // Assigns value and status for heart rate\r\n  document.getElementById(\"heart-rate-value\").innerText =\r\n    patientInfo.diagnosis_history[0].heart_rate.value + \" bpm\";\r\n  document.getElementById(\"heart-rate-status\").innerText =\r\n    patientInfo.diagnosis_history[0].heart_rate.levels;\r\n  if (\r\n    patientInfo.diagnosis_history[0].heart_rate.levels === \"Higher than Average\"\r\n  ) {\r\n    document.getElementById(\"heart-rate-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowUp.svg\";\r\n  } else if (\r\n    patientInfo.diagnosis_history[0].heart_rate.levels === \"Lower than Average\"\r\n  ) {\r\n    document.getElementById(\"heart-rate-status-icon\").src =\r\n      \"src\\\\assets\\\\ArrowDown.svg\";\r\n  }\r\n  //\r\n  const month_key = {\r\n    January: 1,\r\n    February: 2,\r\n    March: 3,\r\n    April: 4,\r\n    May: 5,\r\n    June: 6,\r\n    July: 7,\r\n    August: 8,\r\n    September: 9,\r\n    October: 10,\r\n    November: 11,\r\n    December: 12,\r\n  };\r\n\r\n  filteredDiagnosisHistory = getLastNMonthsData(\r\n    6,\r\n    patientInfo.diagnosis_history\r\n  );\r\n\r\n  const diagnosisChart = new Chart(\r\n    document.getElementById(\"diagnosis-history-chart\"),\r\n    {\r\n      type: \"line\",\r\n      options: {\r\n        animation: true,\r\n        scales: {\r\n          x: {\r\n            // display: true, // This will remove the x-axis labels\r\n            grid: {\r\n                display: false\r\n            }\r\n          },\r\n          y: {\r\n            // display: true, // This will remove the y-axis labels\r\n            // grid: false // Remove vertical lines\r\n          },\r\n        },\r\n        plugins: {\r\n          legend: {\r\n            display: false, // This will remove the legend\r\n          },\r\n        },\r\n      },\r\n      data: {\r\n        labels: [\r\n          ...filteredDiagnosisHistory\r\n            .map((row) => {\r\n              const date = dayjs()\r\n                .set(\"year\", row.year)\r\n                .set(\"month\", month_key[row.month] - 1)\r\n                .set(\"date\", 1);\r\n              return date.valueOf();\r\n            })\r\n            .sort()\r\n            .map((item) => dayjs(item).format(\"MMM YYYY\")),\r\n        ],\r\n        datasets: [\r\n          {\r\n            // label: \"Systolic\",\r\n            data: [\r\n              ...filteredDiagnosisHistory\r\n                .sort((a, b) => {\r\n                  const previousDate = dayjs()\r\n                    .set(\"year\", a.year)\r\n                    .set(\"month\", month_key[a.month] - 1)\r\n                    .set(\"date\", 1);\r\n                  const currentDate = dayjs()\r\n                    .set(\"year\", b.year)\r\n                    .set(\"month\", month_key[b.month] - 1)\r\n                    .set(\"date\", 1);\r\n                  return previousDate.diff(currentDate);\r\n                })\r\n                .map((row) => row.blood_pressure.systolic.value),\r\n            ],\r\n            borderColor: \"#c26eb4\",\r\n            lineTension: 0.5,\r\n            borderWidth: 2,\r\n            pointBackgroundColor: \"#c26eb4\",\r\n          },\r\n          {\r\n            // label: \"Diastolic\",\r\n            data: [\r\n              ...filteredDiagnosisHistory\r\n                .sort((a, b) => {\r\n                  const previousDate = dayjs()\r\n                    .set(\"year\", a.year)\r\n                    .set(\"month\", month_key[a.month] - 1)\r\n                    .set(\"date\", 1);\r\n                  const currentDate = dayjs()\r\n                    .set(\"year\", b.year)\r\n                    .set(\"month\", month_key[b.month] - 1)\r\n                    .set(\"date\", 1);\r\n                  return previousDate.diff(currentDate);\r\n                })\r\n                .map((row) => row.blood_pressure.diastolic.value),\r\n            ],\r\n            borderColor: \"#8c6fe6\",\r\n            lineTension: 0.5,\r\n            borderWidth: 2,\r\n            pointBackgroundColor: \"#8c6fe6\",\r\n          },\r\n        ],\r\n      },\r\n    }\r\n  );\r\n\r\n  document.getElementById(\"date-range\").onchange = function (event) {\r\n    const numberOfMonths = event.target.value;\r\n    filteredDiagnosisHistory = getLastNMonthsData(\r\n      Number(numberOfMonths),\r\n      patientInfo.diagnosis_history\r\n    );\r\n    document.getElementById(\"diagnosis-history-chart\").innerHTML = \"\";\r\n    diagnosisChart.data.labels = [\r\n      ...filteredDiagnosisHistory\r\n        .map((row) => {\r\n          const date = dayjs()\r\n            .set(\"year\", row.year)\r\n            .set(\"month\", month_key[row.month] - 1)\r\n            .set(\"date\", 1);\r\n          return date.valueOf();\r\n        })\r\n        .sort()\r\n        .map((item) => dayjs(item).format(\"MMM YYYY\")),\r\n    ];\r\n\r\n    diagnosisChart.data.datasets = [\r\n      {\r\n        // label: \"Systolic\",\r\n\r\n        data: [\r\n          ...filteredDiagnosisHistory\r\n            .sort((a, b) => {\r\n              const previousDate = dayjs()\r\n                .set(\"year\", a.year)\r\n                .set(\"month\", month_key[a.month] - 1)\r\n                .set(\"date\", 1);\r\n              const currentDate = dayjs()\r\n                .set(\"year\", b.year)\r\n                .set(\"month\", month_key[b.month] - 1)\r\n                .set(\"date\", 1);\r\n              return previousDate.diff(currentDate);\r\n            })\r\n            .map((row) => row.blood_pressure.systolic.value),\r\n        ],\r\n        borderColor: \"#c26eb4\",\r\n        lineTension: 0.5,\r\n        borderWidth: 2,\r\n        pointBackgroundColor: \"#c26eb4\",\r\n      },\r\n      {\r\n        // label: \"Diastolic\",\r\n        data: [\r\n          ...filteredDiagnosisHistory\r\n            .sort((a, b) => {\r\n              const previousDate = dayjs()\r\n                .set(\"year\", a.year)\r\n                .set(\"month\", month_key[a.month] - 1)\r\n                .set(\"date\", 1);\r\n              const currentDate = dayjs()\r\n                .set(\"year\", b.year)\r\n                .set(\"month\", month_key[b.month] - 1)\r\n                .set(\"date\", 1);\r\n              return previousDate.diff(currentDate);\r\n            })\r\n            .map((row) => row.blood_pressure.diastolic.value),\r\n        ],\r\n        borderColor: \"#8c6fe6\",\r\n        lineTension: 0.5,\r\n        borderWidth: 2,\r\n        pointBackgroundColor: \"#8c6fe6\",\r\n      },\r\n    ];\r\n\r\n    diagnosisChart.update();\r\n  };\r\n}\r\n"],"names":[],"version":3,"file":"index.52071f24.js.map","sourceRoot":"/__parcel_source_root/"}